function onChange(n){HttpGet(`/KYCform/GetBranchList/?propertyTypeId=${n}`,"json",function(n){for(var i='<option  value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#BranchId").select2("val","");$("#BranchId").html(i)})}function validateForm(){let f=document.forms["kyc-form"].PropertyTypeId.value,e=document.forms["kyc-form"].LeaseTypeId.value,o=document.forms["kyc-form"].LicenseFrequency.value,s=document.forms["kyc-form"].LeaseGroundRentDepositFrequency.value,h=document.forms["kyc-form"].PossessionDate.value,t=document.forms["kyc-form"].Property.value,c=document.forms["kyc-form"].name1.value,l=document.forms["kyc-form"].LandPremiumAmount.value,a=document.forms["kyc-form"].LicenseFeePayable.value,i=document.forms["kyc-form"].ApplicantPan.value,r=document.forms["kyc-form"].Aadhar.value,u=document.forms["kyc-form"].Letter.value;var n=1;return f==""&&($("#propertytype-error").show(),n=2),t=="Lease"&&e==""&&($("#LeaseType-error").show(),n=2),(t=="License"||t==0)&&o==""&&($("#LicenseFrequency-error").show(),n=2),t=="Lease"&&s==""&&($("#LeaseGroundRent-error").show(),n=2),h==""&&($("#PossessionDate-error").show(),n=2),c==""&&($("#name1-error").show(),n=2),t=="Lease"&&l==""&&($("#LandPremiumamount-error").show(),n=2),(r==""||r==null)&&($("#Aadhar-error").show(),n=2),(u==""||u==null)&&($("#Letter-error").show(),n=2),t=="Lease"&&(i==""||i==null)&&($("#ApplicantPan-error").show(),n=2),(t=="License"||t==0)&&a==""&&($("#LicenseFeePayable-error").show(),n=2),n==2?!1:void 0}function fileValidation(n,t,i){return/(\.jpg|\.jpeg|\.png|\.pdf|\.PDF|\.xlsx|\.docx|\.pptx)$/i.exec(n)?i>10535049?(alert("File must be of 10 MB or Lesser Than 10 MB"),t.value="",!1):void 0:(alert("Invalid file type"),t.value="",!1)}function ValidateFileSize(n,t){var i;try{if(i=0,navigator.userAgent.match(/msie/i)){var r=new ActiveXObject("Scripting.FileSystemObject"),u=t[0].value,f=r.getFile(u),i=f.size;i=i/1048576}else i=t[0].files[0].size,i=i/1048576;return i}catch(e){alert("Error is :"+e)}}$(document).ready(function(){$("#AllotteeApplicantDetailsSame").val()=="yes"?($('input[name="chksame"]').attr("checked","checked"),$("#AllotteeLicenseeName").attr("readonly",!0),$("#AllotteeLicenseeAddress").attr("readonly",!0),$("#AllotteeLicenseeMobileNo").attr("readonly",!0),$("#AllotteeLicenseeEmailId").attr("readonly",!0)):($('input[name="chksame"]').attr("checked",!1),$("#AllotteeLicenseeName").attr("readonly",!1),$("#AllotteeLicenseeAddress").attr("readonly",!1),$("#AllotteeLicenseeMobileNo").attr("readonly",!1),$("#AllotteeLicenseeEmailId").attr("readonly",!1))});$(function(){var t=$("#Property option:selected").val(),n;t=="Lease"?($("#LeaseType").show(),$("#divLicense").hide(),$("#divTenure").hide(),$("#LicenseFrequency1").hide(),$("#LeaseAmount").show(),$("#LicenseAmount").hide(),$("#divApplicantDoc").show(),$("#licenseheading").text(),$("#labellease").text("Date of Lease Execution"),$("#NameLB").text("Name of Allottee/Lessee"),$("#aadharlb").text("Aadhaar No. of Allottee/Lessee"),$("#letterlb").text("Possession Letter /Allotment Letter /Executed Lease deed (Any One )")):($("#LeaseType").hide(),$("#divLicense").show(),$("#divTenure").hide(),$("#LicenseFrequency1").show(),$("#LeaseAmount").hide(),$("#LicenseAmount").show(),$("#divApplicantDoc").hide(),$("#licenseheading").text("Details of Licensee as per License Agreement"),$("#labellease").text(" Date of License Execution"),$("#chk1").text(" If the License Details are same as Applicant Details then  tick the checkbox"),$("#NameLB").text("Name of Licensee"),$("#aadharlb").text("Aadhaar No. of Licensee"),$("#letterlb").text("Possession Letter /Allotment Letter /Executed License agreement (Any One )"));n=$("#LeaseTypeId option:selected").val();n==2?$("#divTenure").show():$("#divTenure").hide()});$("#Property").change(function(){var n=$("#Property option:selected").val();n=="Lease"?($("#LeaseType").show(),$("#divLicense").hide(),$("#divTenure").hide(),$("#LicenseFrequency1").hide(),$("#LeaseAmount").show(),$("#LicenseAmount").hide(),$("#divApplicantDoc").show(),$("#licenseheading").text("Details of Lessee as per Allotment Letter/Lease deed"),$("#labellease").text("Date of Lease Execution"),$("#chk2").text(" If the Allottee Details are same as Applicant Details then tick the checkbox"),$("#NameLB").text("Name of Allottee/Lessee"),$("#aadharlb").text("Aadhaar No./PAN of Allottee/Lessee "),$("#letterlb").text("Possession Letter /Allotment Letter /Executed Lease deed (Any One )"),$("#LicenseFrequency").val(""),$("#LicenseFrom").val(""),$("#LicenseTo").val(""),$("#LicenseFeePayable").val("")):($("#LeaseType").hide(),$("#divLicense").show(),$("#divTenure").hide(),$("#LicenseFrequency1").show(),$("#LeaseAmount").hide(),$("#LicenseAmount").show(),$("#divApplicantDoc").hide(),$("#chk2").text(" If the License Details are same as Applicant Details then  tick the checkbox"),$("#licenseheading").text("Details of Licensee as per License Agreement"),$("#labellease").text(" Date of License Execution"),$("#NameLB").text("Name of Licensee"),$("#aadharlb").text("Aadhaar No. of Licensee"),$("#letterlb").text("Possession Letter /Allotment Letter /Executed License agreement (Any One )"),$("#LeaseTypeId").val(""),$("#LeaseGroundRentDepositFrequency").val(""),$("#TenureFrom").val(""),$("#TenureTo").val(""),$("#LandPremiumAmount").val(""),$("#GroundRentAmount").val(""),$("#AadhaarPANApplicantPath").val(""),$("#LicenseTo").val(""))});$("#LeaseTypeId").change(function(){var n=$("#LeaseTypeId option:selected").val();n==2?$("#divTenure").show():$("#divTenure").hide()});$("input[name='chksame']").click(function(){$("#chk1").is(":checked")?($("#AllotteeLicenseeName").siblings("div").hide(),$("#AllotteeLicenseeAddress").siblings("div").hide(),$("#AllotteeLicenseeMobileNo").siblings("div").hide(),$("#AllotteeLicenseeEmailId").siblings("div").hide(),$("#AllotteeApplicantDetailsSame").val("yes"),$("#AllotteeLicenseeName").val($("#name1").val()),$("#AllotteeLicenseeAddress").val($("#Address").val()),$("#AllotteeLicenseeMobileNo").val($("#MobileNo").val()),$("#AllotteeLicenseeEmailId").val($("#EmailId").val()),$("#AllotteeLicenseeName").attr("readonly",!0),$("#AllotteeLicenseeAddress").attr("readonly",!0),$("#AllotteeLicenseeMobileNo").attr("readonly",!0),$("#AllotteeLicenseeEmailId").attr("readonly",!0)):($("#AllotteeLicenseeName").siblings("div").show(),$("#AllotteeLicenseeAddress").siblings("div").show(),$("#AllotteeLicenseeMobileNo").siblings("div").show(),$("#AllotteeLicenseeEmailId").siblings("div").show(),$("#AllotteeApplicantDetailsSame").val(""),$("#AllotteeLicenseeName").attr("limit","100"),$("#AllotteeLicenseeName").val(""),$("#AllotteeLicenseeAddress").val(""),$("#AllotteeLicenseeMobileNo").val(""),$("#AllotteeLicenseeEmailId").val(""),$("#AllotteeLicenseeName").attr("readonly",!1),$("#AllotteeLicenseeAddress").attr("readonly",!1),$("#AllotteeLicenseeMobileNo").attr("readonly",!1),$("#AllotteeLicenseeEmailId").attr("readonly",!1))});$("#LandPremiumAmount").change(function(){var n=$("#LandPremiumAmount").val(),t=parseFloat(2.5/100*parseFloat(n));$("#GroundRentAmount").val(t.toFixed(3))});$("#tolicense").change(function(){$("#fromlicense1-error").html("");var n=$("#tolicense").val(),t=$("#fromlicense").val();t?n?t>n&&$("#fromlicense1-error").html("to date should be greater and equal from date"):$("#fromlicense1-error").html("Please Select To Date1"):$("#fromlicense1-error").html("Please Select From Date")});$("#fromlicense").change(function(){$("#fromlicense1-error").html("");var n=$("#tolicense").val(),t=$("#fromlicense").val();t?n?t>n&&$("#fromlicense1-error").html("to date should be greater and equal from date"):$("#fromlicense1-error").html("Please Select To Date"):$("#fromlicense1-error").html("Please Select From Date")});$("#tenureto").change(function(){$("#tenurefrom1-error").html("");var n=$("#tenureto").val(),t=$("#tenurefrom").val();t?n?t>n&&$("#tenurefrom1-error").html("to date should be greater and equal from date"):$("#tenurefrom1-error").html("Please Select To Date1"):$("#tenurefrom1-error").html("Please Select From Date")});$("#tenurefrom").change(function(){$("#tenurefrom1-error").html("");var n=$("#tenureto").val(),t=$("#tenurefrom").val();t?n?t>n&&$("#tenurefrom1-error").html("to date should be greater and equal from date"):$("#tenurefrom1-error").html("Please Select To Date"):$("#tenurefrom1-error").html("Please Select From Date")});$("#ZoneId").change(function(){var n=$(this).val();n&&HttpGet(`/KYCform/GetLocalityList/?zoneid=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#LocalityId").select2("val","");$("#LocalityId").html(i)})});$("#name1").keydown(function(n){if($("#err-name").hide(),n.ctrlKey||n.altKey)n.preventDefault();else{var t=n.keyCode;t==8||t==32||t==46||t>=35&&t<=40||t>=65&&t<=90||n.preventDefault()}});$("#FatherName").keydown(function(n){if($("#err-name1").hide(),n.ctrlKey||n.altKey)n.preventDefault();else{var t=n.keyCode;t==8||t==32||t==46||t>=35&&t<=40||t>=65&&t<=90||n.preventDefault()}});$("#AadhaarNo").keyup(function(){var n=$("#AadhaarNo").val();if(!n.match("[0-9]{12}")||n.length>12){$("#err-aadhar").show();return}$("#err-aadhar").hide()});$(function(){$("#AllotmentLetterDate").on("change",function(){var n=$("#AllotmentLetterDate").val(),t=(new Date).toISOString().split("T")[0];n>t?($("#AllotmentLetterDate").val(" "),$(".msg1").empty().html("Date must not be greater than current date")):($("#AllotmentLetterDate").val($("#AllotmentLetterDate").val()),$(".msg1").empty())})});$(function(){$("#PossessionDate").on("change",function(){var n=$("#PossessionDate").val(),t=(new Date).toISOString().split("T")[0];n>t?($("#PossessionDate").val(" "),$(".msg2").empty().html("Date must not be greater than current date")):($("#PossessionDate").val($("#PossessionDate").val()),$(".msg2").empty())})});$(function(){$("#LeaseLicenseExecutionDate").on("change",function(){var n=$("#LeaseLicenseExecutionDate").val(),t=(new Date).toISOString().split("T")[0];n>t?($("#LeaseLicenseExecutionDate").val(" "),$(".msg3").empty().html("Date must not be greater than current date")):($("#LeaseLicenseExecutionDate").val($("#LeaseLicenseExecutionDate").val()),$(".msg3").empty())})});$("#Aadhar").change(function(){var n=document.getElementById("Aadhar"),t=n.value;const i=Aadhar.files[0].size;fileValidation(t,n,i)});$("#Letter").change(function(){var n=document.getElementById("Letter"),t=n.value;const i=Letter.files[0].size;fileValidation(t,n,i)});$("#ApplicantPan").change(function(){var n=document.getElementById("ApplicantPan"),t=n.value;const i=ApplicantPan.files[0].size;fileValidation(t,n,i)});$(".checkExtension").on("change",function(){var r,u,f,e,i;var n=!1,o=$(this).val(),t=o;if(t!=null){if(r=t.split("."),r.length>2){alert("Please upload proper file with single dot in filename");$(this).val("");return}u=t.substr(t.lastIndexOf(".")+1);switch(u){case"pdf":n=!0;$("#error").empty();break;case"PDF":n=!0;$("#error").empty();break;default:alert("You can upload only pdf extension file Only");$(this).val("");n=!1}if(n==!0)if(f=$(this).attr("id"),e=ValidateFileSize(f,$(this)),e>5)alert("You Can Upload file Size Up to 5 MB."),$(this).val("");else{filecontrol=$(this);i=new FormData;i.append("file",$(this)[0].files[0]);$.ajax({"async":!1,type:"POST",url:"/KYCform/CheckFile",contentType:!1,processData:!1,data:i,success:function(t){n(t,filecontrol)},failure:function(){return!1}});function n(n,t){if(n==!1)alert("Please select vaild pdf file."),t.val("");else return!0}}}});