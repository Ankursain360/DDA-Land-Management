function GetSearchParam(){return{PropertyTypeId:$("#PropertyTypeId").children("option:selected").val(),EncroachmentDate:$("#EncroachmentDate").val(),FromDate:$("#DemandPeriodFromDate").val(),ToDate:$("#DemandPeriodToDate").val(),LocalityId:$("#LocalityId").children("option:selected").val(),Area:$("#Area").val()}}$(function(){$("#InterestAmount,#Penalty,#DamageCharges,#ReliefAmount").keyup(function(){var n=$("#InterestAmount").val(),u;n||(n=0);var t=$("#Penalty").val(),i=$("#DamageCharges").val(),r=$("#ReliefAmount").val();t&&i&&r&&(u=parseFloat(n)+parseFloat(t)+parseFloat(i)-parseFloat(r),$("#DepositDue").val(u))})});$(function(){$("#txtfileno").autocomplete({source:function(n,t){$.ajax({url:"/DemandsLetter/AutoComplete/",data:{prefix:n.term},type:"POST",success:function(n){t($.map(n,function(n){return{label:n.fileNo,value:n.id}}))},error:function(n){alert(n.responseText)},failure:function(n){alert(n.responseText)}})},focus:function(n,t){return $("#txtfileno").val(t.item.label),!1},select:function(n,t){n.preventDefault();$("#txtfileno").val(t.item.label);HttpGet(`/DemandsLetter/GetFileDetails?fileid=${parseInt(t.item.value)}`,"json",function(n){$("#PropertyNo").val(n.propertyNo);$("#Area").val(n.plotAreaSqYard);$("#Name").val(n.payeeName);$("#FatherName").val(n.fatherName);$("#Address").val(n.address)})},minLength:1})});$("#btnCalculate").click(function(){var n,u,f,t,i,r,e,o;n=!1;u=$("#PropertyTypeId option:selected").val();u<1?$("#PropertyTypeIdMsg").show():($("#PropertyTypeIdMsg").hide(),n=!0);f=$("#LocalityId option:selected").val();f<1?$("#LocalityIdMsg").show():($("#LocalityIdMsg").hide(),n=!0);t=$("#EncroachmentDate").val();t==""?$("#EncroachmentDateMsg").show():(t=new Date(t),$("#EncroachmentDateMsg").hide(),n=!0);i=$("#DemandPeriodFromDate").val();i==""?(n=!1,$("#FromDateMsg").show()):(i=new Date(i),$("#FromDateMsg").hide(),n=!0);r=$("#DemandPeriodToDate").val();r==""?(n=!1,$("#ToDateMsg").show()):(r=new Date(r),$("#ToDateMsg").hide(),n=!0);e=$("#Area").val();e==""?(n=!1,$("#AreaMsg").show()):($("#AreaMsg").hide(),n=!0);f<1||u<1||t==""||i==""||r==""||e==""?n=!1:(n=!1,i<t?alert("From Date can not be smaller than EncroachDate"):r<t||r<i?alert("To Date can not be smaller than EncroachDate/FromDate"):t.getFullYear()<1952&&alert("Encroachment Date start from 1952"),n=!0);n&&(o=GetSearchParam(),HttpPost(`/DemandsLetter/DamageCalculate`,"json",o,function(n){$("#DamageCharges").val(n[0]);$("#InterestAmount").val(n[1])}))});