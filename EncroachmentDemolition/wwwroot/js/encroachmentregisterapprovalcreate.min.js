function GetWatchWardDetails(n){HttpGet(`/EncroachmentRegisterApproval/WatchWardView/?Id=${n}`,"html",function(n){$("#WatchWardDetailsDiv").html("");$("#WatchWardDetailsDiv").html(n)})}function GetOtherDetails(n){HttpGet(`/EncroachmentRegisterApproval/EncroachmentRegisterView/?Id=${n}`,"html",function(n){$("#EncroachmentRegisterDetailsDiv").html("");$("#EncroachmentRegisterDetailsDiv").html(n)})}function GetHistoryDetails(n){HttpGet(`/EncroachmentRegisterApproval/HistoryDetails/?Id=${n}`,"html",function(n){$("#divHistoryDetails").html("");$("#divHistoryDetails").html(n)})}function callSelect2(){$("select").select2({placeholder:"Select",allowClear:!0})}function fileValidation(n,t,i){return/(\.jpg|\.jpeg|\.png|\.pdf)$/i.exec(n)?i>10535049?(alert("File must be of 10 MB or Lesser Than 10 MB"),t.value="",!1):void 0:(alert("Invalid file type"),t.value="",!1)}function GetApprvoalStatus(n){HttpGet(`/EncroachmentRegisterApproval/GetApprvoalStatus/?value=${n}`,"json",function(n){n!=null?($("#ApprovalStatusCode").val(n.statusCode),n.statusCode==$("#QueryForwardCode").val()?($("#RoleListDiv").show(),$("#UserListDiv").show()):n.statusCode==$("#ForwardCode").val()?($("#RoleListDiv").hide(),$("#UserListDiv").show(),GetForwardedUserList()):($("#RoleListDiv").hide(),$("#UserListDiv").hide()),callSelect2()):($("#ApprovalStatusCode").val(0),$("#RoleListDiv").hide(),$("#UserListDiv").hide())})}function GetUserList(n){HttpGet(`/EncroachmentRegisterApproval/GetUserList/?value=${n}`,"json",function(n){for(var i='<option selected="selected" disabled="disabled" value="0">--Select-- <\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].userId+">"+n[t].name+"<\/option>";$("#ApprovalUserId").val(null).trigger("change");$("#ApprovalUserId").html(i)})}function GetForwardedUserList(){HttpGet(`/EncroachmentRegisterApproval/GetForwardedUserList/?value=${parseInt($("#Id").val())}`,"json",function(n){var i,t;if(n!=null)if(n[0]=="false")WarningMessage(n[1]);else{for(i='<option selected="selected" disabled="disabled" value="0">--Select-- <\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].userId+">"+n[t].name+"<\/option>";$("#ApprovalUserId").val(null).trigger("change");$("#ApprovalUserId").html(i)}})}function ValidateFileSize(n,t){var i;try{if(i=0,navigator.userAgent.match(/msie/i)){var r=new ActiveXObject("Scripting.FileSystemObject"),u=t[0].value,f=r.getFile(u),i=f.size;i=i/1048576}else i=t[0].files[0].size,i=i/1048576;return i}catch(e){alert("Error is :"+e)}}$(document).ready(function(){var n=parseInt($("#Id").val()),t=parseInt($("#WatchWardId").val());GetWatchWardDetails(t);GetOtherDetails(n);GetHistoryDetails(n);$("#ApprovalStatus").val("0").trigger("change")});$("#collapse").click(function(){$("#collapseApprroval").collapse("toggle").promise().done(function(){$("select").select2({placeholder:"Select",allowClear:!0})})});$("#collapse").click(function(){$("#collapseHistoryApprroval").collapse("toggle").promise().done(function(){$("#select").select2({placeholder:"Select",allowClear:!0})})});$("#collapse").click(function(){$("#collapseWatchWardApprroval").collapse("toggle").promise().done(function(){$("#select").select2({placeholder:"Select",allowClear:!0})})});$("#ApprovalDocument").change(function(){var n=document.getElementById("ApprovalDocument"),t=n.value;const i=ApprovalDocument.files[0].size;fileValidation(t,n,i)});$("#btnCreate").click(function(){var n=!1,u=$("#ApprovalStatus option:selected").val(),i,t,r;return parseInt(u)<1?(n=!1,$("#ApprovalStatusMessage").show()):(n=!0,$("#ApprovalStatusMessage").hide()),i=$("#ApprovalRoleId option:selected").val(),parseInt(i)<1?(n=!1,$("#ApprovalRoleIdMessage").show()):(n=!0,$("#ApprovalRoleIdMessage").hide()),t=$("#ApprovalUserId option:selected").val(),parseInt(t)<1?(n=!1,$("#ApprovalUserIdMessage").show()):(n=!0,$("#ApprovalUserIdMessage").hide()),r=$("#ApprovalRemarks").val(),r==""?(n=!1,$("#ApprovalRemarksMessage").show()):(n=!0,$("#ApprovalRemarksMessage").hide()),(parseInt(u)<1||r=="")&&(n=!1),$("#ApprovalStatusCode").val()==$("#QueryForwardCode").val()&&(parseInt(i)<1||parseInt(t)<1)&&(n=!1),$("#ApprovalStatusCode").val()==$("#ForwardCode").val()&&parseInt(t)<1&&(n=!1),n});$(".checkExtension").on("change",function(){var r,u,f,e,i;var n=!1,o=$(this).val(),t=o;if(t!=null){if(r=t.split("."),r.length>2){alert("Please upload proper file with single dot in filename");$(this).val("");return}u=t.substr(t.lastIndexOf(".")+1);switch(u){case"pdf":n=!0;$("#error").empty();break;case"PDF":n=!0;$("#error").empty();break;default:alert("You can upload only pdf extension file Only");$(this).val("");n=!1}if(n==!0)if(f=$(this).attr("id"),e=ValidateFileSize(f,$(this)),e>5)alert("You Can Upload file Size Up to 5 MB."),$(this).val("");else{filecontrol=$(this);i=new FormData;i.append("file",$(this)[0].files[0]);$.ajax({"async":!1,type:"POST",url:"/EncroachmentRegisterApproval/CheckFile",contentType:!1,processData:!1,data:i,success:function(t){n(t,filecontrol)},failure:function(){return!1}});function n(n,t){if(n==!1)alert("Please select vaild pdf file."),t.val("");else return!0}}}});