function onChangeDepartment(n){HttpGet(`/MonthlyRoster/GetZoneList/?DepartmentId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#ZoneId").html(i);$("#DivisionId").html('<option value="">Select<\/option>');$("#Locality").html('<option value="">Select<\/option>');$("#ZoneId").select2("val","");$("#DivisionId").select2("val","");$("#Locality").select2("val","")})}function onChangeZone(n){HttpGet(`/MonthlyRoster/GetDivisionList/?ZoneId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#DivisionId").html(i);$("#Locality").html('<option value="">Select<\/option>');$("#DivisionId").select2("val","");$("#Locality").select2("val","")})}function onChangeDivision(n){HttpGet(`/MonthlyRoster/GetLocalityList/?DivisionId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#Locality").html(i);$("#Locality").select2("val","")})}function onSubmitForm(){var n=!0,i=$("#Month option:selected").val(),r=$("#Year option:selected").val(),u=$("#DepartmentId option:selected").val(),f=$("#ZoneId option:selected").val(),e=$("#DivisionId option:selected").val(),o=$("#Locality option:selected").val(),s=$("#SecurityGuard option:selected").val(),t;i==""?(n=!1,$("#MonthMessage").show()):n&&$("#MonthMessage").hide();s==""?(n=!1,$("#SecurityGuardMessage").show()):n&&$("#SecurityGuardMessage").hide();r==""?(n=!1,$("#YearMessage").show()):n&&$("#YearMessage").hide();u==""?(n=!1,$("#DepartmentMessage").show()):n&&$("#DepartmentMessage").hide();f==""?(n=!1,$("#ZoneMessage").show()):n&&$("#ZoneMessage").hide();e==""?(n=!1,$("#DivisionMessage").show()):n&&$("#DivisionMessage").hide();o==""?(n=!1,$("#LocalityMessage").show()):n&&$("#LocalityMessage").hide();n&&(t=GetListData(),HttpPost(`/MonthlyRoster/Create`,"json",t,function(n){window.location.href=n;SuccessMessage("Data updated successfully.")}))}function GetListData(){var u=$("#Month option:selected").val(),f=$("#Year option:selected").val(),e=$("#DepartmentId option:selected").val(),o=$("#ZoneId option:selected").val(),s=$("#DivisionId option:selected").val(),h=$("#Locality option:selected").val(),c=$("#UserProfileId option:selected").val(),t=[],i=[],r=0,n;return $("table#RoasterTable tr").each(function(){var n=$(this).find("td").map(function(){return $(this).find('input[type="text"],select').map(function(){return $(this).prop("tagName")=="SELECT"?JSON.stringify($(this).select2("val")):$(this).val()}).get()}).get();i={Date:n[0],Days:n[1],PrimaryListNo:n[2]};r>0&&t.push(i);r++}),n=JSON.stringify(t),console.log(n),{month:u,year:f,Id:0,Department:e,Zone:o,Division:s,Locality:h,securityGuard:c,Template:n}}$(document).ready(function(){$("select").select2({placeholder:"Select",allowClear:!0});$("#Month").change(function(){var n=$("#Month option:selected").val(),t=$("#Year option:selected").val(),i=$("#DepartmentId option:selected").val(),r=$("#ZoneId option:selected").val(),u=$("#DivisionId option:selected").val(),f=$("#Locality option:selected").val();$("#dialog").load("/MonthlyRoster/GetMonthlyDetails",{month:n,year:t,department:i,zone:r,division:u,Locality:f})})});