function GetExcel(n,t,i){var r=GetSearchParam(n,t,i);HttpPost(`/DemolitionReport2/getAllDemolitionReport`,"html",r,function(){var n=document.createElement("a");n.target="_blank";n.href="/DemolitionReport2/download";n.click()})}function GetDetails(n,t,i){var r=GetSearchParam(n,t,i);HttpPost(`/DemolitionReport2/GetDetails`,"html",r,function(n){$("#LoadReportView").html("");$("#LoadReportView").html(n)})}function GetSearchParam(n,t,i){var r=$("#DepartmentId option:selected").val(),u=$("#ZoneId option:selected").val(),f=$("#DivisionId option:selected").val(),e=$("#LocalityId option:selected").val();return{name:"report",pageSize:parseInt(t),pageNumber:parseInt(n),departmentId:parseInt(r),zoneId:parseInt(u),divisionId:parseInt(f),localityId:parseInt(e),sortBy:$("#ddlSort").children("option:selected").val(),sortOrder:parseInt(i)}}function onPaging(n){GetDetails(parseInt(n),parseInt(currentPageSize),sortby);currentPageNumber=n}function onChangePageSize(n){GetDetails(parseInt(currentPageNumber),parseInt(n),sortby);currentPageSize=n}function onChangeDepartment(n){HttpGet(`/DemolitionReport2/GetZoneList/?DepartmentId=${n}`,"json",function(n){for(var i='<option value="0">All<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#ZoneId").html(i);$("#DivisionId").html('<option value="0">All<\/option>');$("#LocalityId").html('<option value="0">All<\/option>')})}function onChangeZone(n){HttpGet(`/DemolitionReport2/GetDivisionList/?ZoneId=${n}`,"json",function(n){for(var i='<option value="0">All<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#DivisionId").html(i);$("#LocalityId").html('<option value="0">All<\/option>')})}function onChangeDivision(n){HttpGet(`/DemolitionReport2/GetLocalityList/?DivisionId=${n}`,"json",function(n){for(var i='<option value="0">All<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#LocalityId").html(i)})}var currentPageNumber=1,currentPageSize=5,sortby=1;$(document).ready(function(){$("#btnGenerate").click(function(){var n=ValidateForm(),t=$("#DepartmentId option:selected").val(),i=$("#ZoneId option:selected").val(),r=$("#DivisionId option:selected").val(),u=$("#LocalityId option:selected").val();n&&GetDetails(currentPageNumber,currentPageSize,sortby)});$(".linkdisabled").click(function(){return!1})});$("#btndownload").click(function(){GetExcel(currentPageNumber,currentPageSize,sortby)});$("#btnAscending").click(function(){$("#btnDescending").removeClass("active");$("#btnAscending").addClass("active");sortby=1;GetDetails(currentPageNumber,currentPageSize,sortby)});$("#btnDescending").click(function(){$("#btnAscending").removeClass("active");$("#btnDescending").addClass("active");sortby=2;GetDetails(currentPageNumber,currentPageSize,sortby)});$("#btnReset").click(function(){$("#DepartmentId").val("0").trigger("change");$("#ZoneId").val("0").trigger("change");$("#DivisionId").val("0").trigger("change");$("#LocalityId").val("0").trigger("change")});