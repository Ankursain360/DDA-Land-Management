function GetWatchWardDetails(n){HttpAsyncGet(`/Demolitionstructuredetails/WatchWardView/?Id=${n}`,"html",function(n){$("#WatchWardDetailsDiv").html("");$("#WatchWardDetailsDiv").html(n)})}function GetEncroachmentDetails(n){HttpAsyncGet(`/Demolitionstructuredetails/EncroachmentRegisterView/?Id=${n}`,"html",function(n){$("#EncroachmentRegisterDetailsDiv").html("");$("#EncroachmentRegisterDetailsDiv").html(n)})}function GetAnnexureADetails(n){HttpAsyncGet(`/Demolitionstructuredetails/AnnexureADetails/?Id=${n}`,"html",function(n){$("#AnnexureADetailsDiv").html("");$("#AnnexureADetailsDiv").html(n)})}function callSelect2(){$("select").select2({placeholder:"Select",allowClear:!0})}function onChangeDepartment1(n){HttpGet(`/Demolitionstructuredetails/GetZoneList/?DepartmentId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#ddlZone").html(i);$("#ddlDivision").html('<option value="">Select<\/option>');$("#ddlLocality").html('<option value="">Select<\/option>')})}function onChangeZone1(n){HttpGet(`/Demolitionstructuredetails/GetDivisionList/?ZoneId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#ddlDivision").html(i);$("#ddlLocality").html('<option value="">Select<\/option>')})}function onChangeDivision1(n){HttpGet(`/Demolitionstructuredetails/GetLocalityList/?DivisionId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#ddlLocality").html(i)})}function fileValidation(n,t,i){return/(\.jpg|\.jpeg|\.png|\.pdf)$/i.exec(n)?i>10535049?(alert("File must be of 10 MB or Lesser Than 10 MB"),t.value="",!1):void 0:(alert("Invalid file type"),t.value="",!1)}function FillDemolitionRptAtEdit(){HttpGet(`/Demolitionstructuredetails/GetDetailsDemolitionRpt/?Id=${$("#Id").val()==null?"":$("#Id").val()}`,"json",function(n){for(var t=0;t<n.length;t++)if($("#tbl_posts_struct #adds #Date1").val(n[t].date),$("#tbl_posts_struct #adds #StructureId1").val(n[t].structureId),$("#tbl_posts_struct #adds #StructureId1").trigger("change"),$("#tbl_posts_struct #adds #NoOfStructureDemolished").val(n[t].noOfStructureDemolished),$("#tbl_posts_struct #adds #NoOfStructureRemaining").val(n[t].noOfStructureRemaining),t<n.length-1){var u=jQuery("#tbl_posts_struct #adds tr"),r=jQuery("#tbl_posts_struct >tbody >tr").length,i=null,i=u.clone();i.attr("id","rec__-"+r);i.find(".delete-record").attr("data-id",r);i.appendTo("#tbl_posts_bodys");i.find(".sns").html(r);$("#tbl_posts_struct #adds .sns").text($("#tbl_posts_struct >tbody >tr").length);$("#tbl_posts_struct #adds .add").remove();$("#tbl_posts_struct #tbl_posts_bodys .floating-label-field").attr("readonly",!0);i.find(".add-records").hide();i.find(".delete-record").show()}})}function FillAreaRptAtEdit(){HttpGet(`/Demolitionstructuredetails/GetDetailsAreaRpt/?Id=${$("#Id").val()==null?"":$("#Id").val()}`,"json",function(n){for(var t=0;t<n.length;t++)if($("#tbl_posts1 #adddata1 #Date2").val(n[t].date),$("#tbl_posts1 #adddata1 #Area1").val(n[t].areaReclaimed),$("#tbl_posts1 #adddata1 #AreaToBeReclaimed").val(n[t].areaToBeReclaimed),t<n.length-1){var u=jQuery("#tbl_posts1 #adddata1 tr"),r=jQuery("#tbl_posts1 >tbody >tr").length,i=null,i=u.clone();i.attr("id","rec1-"+r);i.find(".delete-record1").attr("data-id",r);i.appendTo("#tbl_posts1_body");i.find(".sn1").html(r);$("#tbl_posts1 #adddata1 .sn1").text($("#tbl_posts1 >tbody >tr").length);$("#tbl_posts1 #adddata1 .add").remove();$("#tbl_posts1 #tbl_posts1_body .floating-label-field").attr("readonly",!0);i.find(".add-record1").hide();i.find(".delete-record1").show()}})}function ValidateFileSize(n,t){var i;try{if(i=0,navigator.userAgent.match(/msie/i)){var r=new ActiveXObject("Scripting.FileSystemObject"),u=t[0].value,f=r.getFile(u),i=f.size;i=i/1048576}else i=t[0].files[0].size,i=i/1048576;return i}catch(e){alert("Error is :"+e)}}$(document).ready(function(){$("#StructureId1").removeAttr("multiple");var i=parseInt($("#FixingDemolitionId").val()),n=parseInt($("#EncroachmentId").val()),t=parseInt($("#WatchWardId").val());console.info("encroachmentId:"+n+" WatchWardId:"+t);FillDemolitionRptAtEdit();FillAreaRptAtEdit();GetWatchWardDetails(t);GetEncroachmentDetails(n);GetAnnexureADetails(i)});$("#collapse").click(function(){$("#collapseApprroval").collapse("toggle").promise().done(function(){$("select").select2({placeholder:"Select",allowClear:!0})})});$("#collapse").click(function(){$("#collapseHistoryApprroval").collapse("toggle").promise().done(function(){$("#select").select2({placeholder:"Select",allowClear:!0})})});$("#collapse").click(function(){$("#collapseWatchWardApprroval").collapse("toggle").promise().done(function(){$("#select").select2({placeholder:"Select",allowClear:!0})})});$("#collapse").click(function(){$("#collapseAnnexureA").collapse("toggle").promise().done(function(){$("#select").select2({placeholder:"Select",allowClear:!0})})});$("#DemolitionReportFile1").change(function(){var n=document.getElementById("DemolitionReportFile"),t=n.value;const i=DemolitionReportFile.files[0].size;fileValidation(t,n,i)});$(document).delegate("a.add-records","click",function(n){var r;if($("#tbl_posts_struct #adds #Date1").val()!=""&&$("#tbl_posts_struct #adds #StructureId1").children("option:selected").val()!=undefined){r=$("#tbl_posts_struct #adds #StructureId1").children("option:selected").val();n.preventDefault();var u=jQuery("#tbl_posts_struct #adds tr"),i=jQuery("#tbl_posts_struct >tbody >tr").length,t=null,t=u.clone();t.attr("id","rec__-"+i);t.find(".delete-record").attr("data-id",i);t.appendTo("#tbl_posts_bodys");$("#tbl_posts_bodys #rec__-"+i+" #StructureId1").val(r);t.find(".sns").html(i);$("#tbl_posts_struct #adds .sns").text($("#tbl_posts_struct >tbody >tr").length);$("#tbl_posts_struct #adds .add").remove();$("#tbl_posts_struct #tbl_posts_bodys .floating-label-field").attr("readonly",!0);t.find(".add-records").hide();t.find(".delete-record").show();$("#tbl_posts_struct #adds .floating-label-field").val("")}else alert("Please fill record before add new record ")});$(document).delegate("a.delete-record","click",function(n){var t,i,r;return n.preventDefault(),t=confirm("Are you sure You want to delete"),t==!0?(i=jQuery(this).attr("data-id"),r=jQuery(this).attr("targetDiv"),jQuery("#rec-"+i).remove(),$("#tbl_posts_bodys tr").each(function(n){$(this).find("span.sns").html(n+1)}),$("#tbl_posts_struct #adds .sns").text($("#tbl_posts_struct >tbody >tr").length),!0):!1});$(document).delegate("a.add-record1","click",function(n){if($("#tbl_posts1 #adddata1 #Date2").val()!=""&&$("#tbl_posts1 #adddata1 #Area1").val()!=""){n.preventDefault();var r=jQuery("#tbl_posts1 #adddata1 tr"),i=jQuery("#tbl_posts1 >tbody >tr").length,t=null,t=r.clone();t.attr("id","rec1-"+i);t.find(".delete-record1").attr("data-id",i);t.appendTo("#tbl_posts1_body");t.find(".sn1").html(i);$("#tbl_posts1 #adddata1 .sn1").text($("#tbl_posts1 >tbody >tr").length);$("#tbl_posts1 #adddata1 .add").remove();$("#tbl_posts1 #tbl_posts1_body .floating-label-field").attr("readonly",!0);t.find(".add-record1").hide();t.find(".delete-record1").show();$("#tbl_posts1 #adddata1 .floating-label-field").val("")}else alert("Please fill record before add new record ")});$(document).delegate("a.delete-record1","click",function(n){var t,i,r;return n.preventDefault(),t=confirm("Are you sure You want to delete"),t==!0?(i=jQuery(this).attr("data-id"),r=jQuery(this).attr("targetDiv"),jQuery("#rec1-"+i).remove(),$("#tbl_posts1_body tr").each(function(n){$(this).find("span.sn1").html(n+1)}),$("#tbl_posts1 #adddata1 .sn1").text($("#tbl_posts1 >tbody >tr").length),!0):!1});$(".checkExtension").on("change",function(){var u,i,f,e,r;var n=!1,o=$(this).val(),t=o;if(t!=null){if(u=t.split("."),u.length>2){alert("Please upload proper file with single dot in filename");$(this).val("");return}i=t.substr(t.lastIndexOf(".")+1);i="pdf";switch(i){case"pdf":n=!0;$("#error").empty();break;case"PDF":n=!0;$("#error").empty();break;default:alert("You can upload only pdf extension file Only");$(this).val("");n=!1}if(n==!0)if(f=$(this).attr("id"),e=ValidateFileSize(f,$(this)),e>5)alert("You Can Upload file Size Up to 5 MB."),$(this).val("");else{filecontrol=$(this);r=new FormData;r.append("file",$(this)[0].files[0]);$.ajax({"async":!1,type:"POST",url:"/Demolitionstructuredetails/CheckFile",contentType:!1,processData:!1,data:r,success:function(t){n(t,filecontrol)},failure:function(){return!1}});function n(n,t){if(n==!1)alert("Please select vaild pdf file."),t.val("");else return!0}}}});