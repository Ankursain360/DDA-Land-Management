function GetDateRangeDetails(n){HttpGet(`/DamageRateList/GetDateRangeList/?Id=${n}`,"json",function(n){var i,t;for($("#DateRangeId").val("").trigger("change"),i='<option value="">---Select---<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].name+"<\/option>";$("#DateRangeId").html(i)})}function GetDetails(n,t,i){var r=GetSearchParam(n,t,i);HttpPost(`/DamageRateList/List`,"html",r,function(n){$("#divTable").html("");$("#divTable").html(n)});$("#SaveNewRateDiv").show()}function GetSearchParam(n,t,i){return{propertyid:parseInt($("#PropertyId option:selected").val()),daterangeid:parseInt($("#DateRangeId option:selected").val()),localityid:parseInt($("#LocalityId option:selected").val()),sortBy:$("#ddlSort").children("option:selected").val(),sortOrder:parseInt(i),pageSize:parseInt(t),pageNumber:parseInt(n)}}function SaveRateDetails(){var n=GetRateDetailsSearchParam();HttpPost(`/DamageRateList/Create`,"json",n,function(n){n!=null?n[0]=="false"?WarningMessage(n[1]):(Clear(),GetDetails(currentPageNumber,currentPageSize,sortOrder),SuccessMessage(n[1])):WarningMessage("Unable to submit records")})}function GetRateDetailsSearchParam(){return{propertyid:parseInt($("#PropertyId option:selected").val()),daterangeid:parseInt($("#DateRangeId option:selected").val()),localityid:parseInt($("#LocalityId option:selected").val()),StartDate:$("#StartDate").val(),EndDate:$("#EndDate").val(),Rate:parseFloat($("#Rate").val()),Id:parseInt($("#Id").val())}}function Clear(){$("#StartDate").val("");$("#EndDate").val("");$("#Rate").val("");$("#Id").val("0");$("#btnSaveNewRate").val("Save New Rate")}function EditDetails(n,t,i,r){HttpGet("/DamageRateList/EditDetails?Id="+n+"&EncroachmentTypeId="+t+"&LocalityId="+i+"&PropertypeId="+r,"json",function(n){n!=null?($("#btnSaveNewRate").val("Update"),$("#Id").val(n.id),$("#StartDate").val(n.startDate.split("T")[0]),$("#EndDate").val(n.endDate.split("T")[0]),$("#Rate").val(n.rate)):($("#btnSaveNewRate").val("Save New Rate"),$("#Id").val("0"),$("#StartDate").val(""),$("#EndDate").val(""),$("#Rate").val(""))})}var currentPageNumber=1,currentPageSize=5,sortOrder=1;$(document).ready(function(){$(".numbers").keypress(function(n){(n.which!=45||$(this).val().indexOf("-")!=-1)&&(n.which!=46||$(this).val().indexOf(".")!=-1)&&(n.which<48||n.which>57)&&n.which!=0&&n.which!=8&&n.preventDefault();var t=$(this).val();t.indexOf(".")!=-1&&t.substring(t.indexOf(".")).length>3&&n.which!=0&&n.which!=8&&$(this)[0].selectionStart>=t.length-3&&n.preventDefault()})});$("#btnSearch").click(function(){var n,t,i,r;if(n=!1,t=$("#PropertyTypeId option:selected").val(),t<1?$("#PropertyTypeIdMsg").show():($("#PropertyTypeIdMsg").hide(),n=!0),i=$("#DateRangeId option:selected").val(),i<1?$("#DateRangeIdMsg").show():($("#DateRangeIdMsg").hide(),n=!0),r=$("#LocalityId option:selected").val(),r<1?$("#LocalityIdMsg").show():($("#LocalityIdMsg").hide(),n=!0),n=r<1||i<1||t<1?!1:!0,n)GetDetails(currentPageNumber,currentPageSize,sortOrder);else return WarningMessage("Please Fill all Mandatory Fields")});$("#btnSaveNewRate").click(function(){var n,t,i,r,u,f,e;if(n=!1,t=$("#PropertyTypeId option:selected").val(),t<1?$("#PropertyTypeIdMsg").show():($("#PropertyTypeIdMsg").hide(),n=!0),i=$("#DateRangeId option:selected").val(),i<1?$("#DateRangeIdMsg").show():($("#DateRangeIdMsg").hide(),n=!0),r=$("#LocalityId option:selected").val(),r<1?$("#LocalityIdMsg").show():($("#LocalityIdMsg").hide(),n=!0),u=$("#StartDate").val(),u==""?$("#StartDateMsg").show():($("#StartDateMsg").hide(),n=!0),f=$("#EndDate").val(),f==""?(n=!1,$("#EndDateMsg").show()):($("#EndDateMsg").hide(),n=!0),e=$("#Rate").val(),e==""?(n=!1,$("#RateMsg").show()):($("#RateMsg").hide(),n=!0),n=r<1||i<1||t<1||u==""||f==""||e==""?!1:!0,n)SaveRateDetails();else return WarningMessage("Please Fill all Mandatory Fields")});$("#btnReset").click(function(){Clear()});