function onChange(n){var t=$("#AllotmentDate").val(),i=new Date;if(t=new Date(t),$("#TotalArea").val()==""){$("#AllotmentDate").val(" ");$("#LeasePurposesTypeId").prop("selectedIndex",0);$("#LeasesTypeId").prop("selectedIndex",0);$("#LeaseSubPurposeId").prop("selectedIndex",0);return}if(parseFloat($("#TotalArea").val())<=0){$("#LeasePurposesTypeId").prop("selectedIndex",0);$("#LeasesTypeId").prop("selectedIndex",0);$("#LeaseSubPurposeId").prop("selectedIndex",0);$("#AllotmentDate").val(" ");return}if(t>i){$("#LeasePurposesTypeId").prop("selectedIndex",0);$("#LeasesTypeId").prop("selectedIndex",0);$("#LeaseSubPurposeId").prop("selectedIndex",0);$("#AllotmentDate").val(" ");return}HttpGet(`/AllotmentEntry/GetAllLeaseSubpurpose/?purposeUseId=${n}`,"json",function(n){for(var i='<option value="">Select<\/option>',t=0;t<n.length;t++)i=i+"<option value="+n[t].id+">"+n[t].subPurposeUse+"<\/option>";$("#LeaseSubPurposeId").select2("val","");$("#LeaseSubPurposeId").html(i)})}$(document).ready(function(){$("#aarea").hide();$("#fee").hide();var n=$("#ApplicationId").val();n&&HttpGet(`/AllotmentEntry/GetAreaList/?applicationid=${n}`,"json",function(n){$("#Name").val(n.name);$("#Address").val(n.address);$("#ContactNo").val(n.contactNo);$("#LandAreaSqMt").val(n.landAreaSqMt)});$("#NoOfYears").on("change",function(){var t,i,n;if($("#LicenceFees").val(),t=$("#NoOfYears").val(),i=parseFloat(t*$("#LicenceFees").val()),$("#AmountLicFee").val(i.toFixed(3)),n=parseInt($("#LeasesTypeId option:selected").val()),n==2){var r=$("#AmountLicFee").val(),u=$("#DocumentCharge").val(),f=parseFloat(r)+parseFloat(u);$("#TotalAmount").val(f.toFixed(3))}else if(n==3){var e=$("#PremiumAmount").val(),o=$("#AmountGroundRate").val(),u=$("#DocumentCharge").val(),r=$("#AmountLicFee").val(),f=parseFloat(e)+parseFloat(o)+parseFloat(r)+parseFloat(u);$("#TotalAmount").val(f.toFixed(3))}})});$("#ApplicationId").change(function(){var n=$(this).val();n&&HttpGet(`/AllotmentEntry/GetAreaList/?applicationid=${n}`,"json",function(n){$("#Name").val(n.name);$("#Address").val(n.address);$("#ContactNo").val(n.contactNo);$("#LandAreaSqMt").val(n.landAreaSqMt)})});$("#AllotmentDate, #LeaseSubPurposeId, #LeasePurposesTypeId, #LeasesTypeId, #TotalArea").change(function(){var u=$("#AllotmentDate").val(),e=new Date,n=null;if(u=new Date(u),$("#TotalArea").val()==""){$("#AllotmentDate").val(" ");$("#LeasePurposesTypeId").prop("selectedIndex",0);$("#LeasesTypeId").prop("selectedIndex",0);$("#LeaseSubPurposeId").prop("selectedIndex",0);alert("Please enter alloted area.");return}if(parseFloat($("#TotalArea").val())<=0){$("#LeasePurposesTypeId").prop("selectedIndex",0);$("#LeasesTypeId").prop("selectedIndex",0);$("#LeaseSubPurposeId").prop("selectedIndex",0);$("#AllotmentDate").val(" ");alert("Total area must be greater than zero.");return}if(u>e){$("#AllotmentDate").val(" ");$("#PremiumRate").val("0");$("#PremiumAmount").val("0");$("#GroundRate").val("0");$("#AmountGroundRate").val("0");$("#LicenceFees").val("0");$("#AmountLicFee").val("0");$("#DocumentCharge").val("0");$("#TotalAmount").val("0");$(".msg").empty().html("Date must not be Greater Than Current Date ");return}$(".msg").empty();$("#AllotmentDate").val($("#AllotmentDate").val());var f=parseInt($("#LeasesTypeId option:selected").val()),t=parseInt($("#LeaseSubPurposeId option:selected").val()),i=parseInt($("#LeasePurposesTypeId option:selected").val()),r=$("#AllotmentDate").val();$("#TotalArea").val()!=""&&$("#LeasesTypeId option:selected").val()!=""&&$("#LeasePurposesTypeId option:selected").val()!=""&&$("#LeaseSubPurposeId option:selected").val()!=""&&$("#AllotmentDate").val()!=""&&($("#PremiumRate").val("0"),$("#PremiumAmount").val("0"),$("#GroundRate").val("0"),$("#AmountGroundRate").val("0"),$("#LicenceFees").val("0"),$("#AmountLicFee").val("0"),$("#DocumentCharge").val("0"),$("#TotalAmount").val("0"),f==1?(HttpGet("/AllotmentEntry/GetRateList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var i,r;t==null?n="Premium rate is not defined for particular allotment date":($("#PremiumRate").val(t.premiumRate),i=$("#TotalArea").val(),$("#PremiumRate").val()==""?$("#PremiumAmount").val(0):(r=parseFloat(i*t.premiumRate*4046.86),$("#PremiumAmount").val(r.toFixed(3))))}),HttpGet("/AllotmentEntry/GetGroundRateList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){if(t==null)n=n==null?"Ground rate is not defined for particular allotment date":n+", \nGround rate is not defined for particular allotment date";else if($("#GroundRate").val(t.groundRate),$("#GroundRate").val()=="")$("#AmountGroundRate").val(0);else{var i=$("#PremiumAmount").val(),r=parseFloat(t.groundRate*i/100);$("#AmountGroundRate").val(r.toFixed(3))}}),HttpGet("/AllotmentEntry/GetDocumentList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){if(t==null)n=n==null?"Document Charge is not defined for particular allotment date":n+", \nDocument Charge is not defined for particular allotment date",n!=null&&alert(n+" ,\nPlease contact system administrator.");else if($("#DocumentCharge").val(t.documentCharge),$("#DocumentCharge").val()=="")$("#DocumentCharge").val(0);else{var i=$("#PremiumAmount").val(),r=$("#AmountGroundRate").val(),u=$("#DocumentCharge").val(),f=parseFloat(i)+parseFloat(r)+parseFloat(u);$("#TotalAmount").val(f.toFixed(3))}})):f==2?(HttpGet("/AllotmentEntry/GetFeeList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var i,r;t==null?n="Licence Fees is not defined for particular allotment date":($("#LicenceFees").val(t.licenceFees),i=$("#NoOfYears").val(),i==""?(i=0,r=0,$("#AmountLicFee").val(r)):(r=parseFloat(i*t.licenceFees),$("#AmountLicFee").val(r.toFixed(3))))}),HttpGet("/AllotmentEntry/GetDocumentList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var i;if(t==null)n=n==null?"Document Charge is not defined for particular allotment date":n+", \nDocument Charge is not defined for particular allotment date",n!=null&&alert(n+", \nPlease contact system administrator.");else if($("#DocumentCharge").val(t.documentCharge),$("#DocumentCharge").val()=="")i=0,$("#DocumentCharge").val(i);else{var r=$("#AmountLicFee").val(),i=$("#DocumentCharge").val(),u=parseFloat(r)+parseFloat(i);$("#TotalAmount").val(u.toFixed(3))}})):f==3&&(HttpGet("/AllotmentEntry/GetRateList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var r,i;t==null?n="Premium Rate is not defined for particular allotment date":($("#PremiumRate").val(t.premiumRate),r=$("#TotalArea").val(),$("#PremiumRate").val()==""?(i=0,$("#PremiumAmount").val(i)):(i=parseFloat(r*t.premiumRate*4046.86),$("#PremiumAmount").val(i.toFixed(3))))}),HttpGet("/AllotmentEntry/GetGroundRateList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var r,i;t==null?n=n==null?"Ground Rent is not defined for particular allotment date":n+", \nGround Rent is not defined for particular allotment date":($("#GroundRate").val(t.groundRate),$("#GroundRate").val()==""?(i=0,$("#AmountGroundRate").val(i)):(r=$("#PremiumAmount").val(),i=parseFloat(t.groundRate*r/100),$("#AmountGroundRate").val(i.toFixed(3))))}),HttpGet("/AllotmentEntry/GetFeeList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var i,r;t==null?n=n==null?"Licence Fees is not defined for particular allotment date":n+", \nLicence Fees is not defined for particular allotment date":($("#LicenceFees").val(t.licenceFees),i=$("#NoOfYears").val(),i==""?(i=0,r=0,$("#AmountLicFee").val(r)):(r=parseFloat(i*t.licenceFees),$("#AmountLicFee").val(r.toFixed(3))))}),HttpGet("/AllotmentEntry/GetDocumentList?leasePurposeId="+i+"&leaseSubPurposeId="+t+"&allotmentDate="+r,"json",function(t){var i;if(t==null)n=n==null?"Document Charge is not defined for particular allotment date":n+", \nDocument Charge is not defined for particular allotment date",n!=null&&alert(n+", \nPlease contact system administrator.");else if($("#DocumentCharge").val(t.documentCharge),$("#DocumentCharge").val()=="")i=0,$("#DocumentCharge").val(i);else{var r=$("#PremiumAmount").val(),u=$("#AmountGroundRate").val(),i=$("#DocumentCharge").val(),f=$("#AmountLicFee").val(),e=parseFloat(r)+parseFloat(u)+parseFloat(f)+parseFloat(i);$("#TotalAmount").val(e.toFixed(3))}})))});$("#LeasesTypeId").change(function(){var n=$("#LeasesTypeId option:selected").val();n==1?$("#amount").show():$("#amount").hide();n==2?$("#fee").show():$("#fee").hide();n==3?($("#aarea").show(),$("#amount").show(),$("#fee").show()):$("#aarea").hide()});