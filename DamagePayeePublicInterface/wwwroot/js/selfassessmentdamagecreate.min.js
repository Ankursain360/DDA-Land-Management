function CheckToApply(){var n=!0;if($("#rdbPayeeYes").is(":checked"))$("#DivForPayeeNo").hide();else return $("#DivOpenSubstitutionForm").find("input,select,textarea").each(function(){!($(this).is("[required]")||$(this).is("[data-val-required]"))||$(this).is(":hidden")||$(this).is(":disabled")||n==!0&&($(this).val()!=null&&$(this).val()!=undefined&&$(this).val()!=""||(n=!1))}),n?($("#IsMutaionYes").val(0),!0):(WarningMessage("Please Fill All Mandatory Fields"),!1)}function PageValidation(){var n,t,i,r,u;return n=!1,t=$("#TotalValueWithInterest").val(),t==""?(n=!1,$("#TotalValueWithInterestMsg").show()):n=!0,i=$("#InterestDueAmountCompund").val(),i==""?(n=!1,$("#InterestDueAmountCompundMsg").show()):n=!0,r=$("#TotalPayable").val(),r==""?(n=!1,$("#TotalPayableMsg").show()):n=!0,u=$("#Rebate").val(),u==""?(n=!1,$("#RebateMsg").show()):n=!0,$("#DeclarationStatus1").prop("checked")==!1&&$("#DeclarationStatus1Msg").show(),$("#DeclarationStatus2").prop("checked")==!1&&$("#DeclarationStatus2Msg").show(),$("#DeclarationStatus3").prop("checked")==!1&&$("#DeclarationStatus3Msg").show(),t==""||i==""||u==""||r==""||$("#DeclarationStatus1").prop("checked")==!1||$("#DeclarationStatus2").prop("checked")==!1||$("#DeclarationStatus3").prop("checked")==!1?n=!1:($("#IsMutaionYes").val(1),n=!0),n}function CheckPaymentValidation(){var t=!1,i=PageValidation(),n=!0;return $("#rdbPayeeYes").is(":checked")?$("#DivForPayeeNo").hide():$("#DivOpenSubstitutionForm").find("input,select,textarea").each(function(){!($(this).is("[required]")||$(this).is("[data-val-required]"))||$(this).is(":hidden")||$(this).is(":disabled")||n==!0&&($(this).val()!=null&&$(this).val()!=undefined&&$(this).val()!=""||(n=!1))}),t=n?!0:!1,t&&i?($("#IsMutaionYes").val(2),window.document.forms[0].target="_blank",!0):(WarningMessage("Please Fill All Mandatory Fields, before to Procceed Payment"),!1)}function FillRepeatorAtEdit(){HttpGet(`/SelfAssessmentDamage/GetDetailspersonelinfotemp/?Id=${$("#Id").val()==null?"":$("#Id").val()}`,"json",function(n){for(var t=0;t<n.length;t++)if($("#tbl_posts #add #payeeName").val(n[t].name),$("#tbl_posts #add #payeeFatherName").val(n[t].fatherName),$("#tbl_posts #add #Gender").val(n[t].gender),$("#tbl_posts #add #Address").val(n[t].address),$("#tbl_posts #add #MobileNo").val(n[t].mobileNo),$("#tbl_posts #add #EmailId").val(n[t].emailId),$("#tbl_posts #add #AadharNo").val(n[t].aadharNo),$("#tbl_posts #add #PanNo").val(n[t].panNo),$("#tbl_posts #add #AadharNoFilePath").val(n[t].aadharNoFilePath),$("#tbl_posts #add #PanNoFilePath").val(n[t].panNoFilePath),$("#tbl_posts #add #PhotographFilePath").val(n[t].photographPath),$("#tbl_posts #add #SignatureFilePath").val(n[t].signaturePath),$("#tbl_posts #add #viewAadharId").text(n[t].aadharNoFilePath.split("\\")[n[t].aadharNoFilePath.split("\\").length-1].slice(37)),$("#tbl_posts #add #viewPanId").text(n[t].panNoFilePath.split("\\")[n[t].panNoFilePath.split("\\").length-1].slice(37)),$("#tbl_posts #add #viewPhotoId").text(n[t].photographPath.split("\\")[n[t].photographPath.split("\\").length-1].slice(37)),$("#tbl_posts #add #viewSignatureId").text(n[t].signaturePath.split("\\")[n[t].signaturePath.split("\\").length-1].slice(37)),n[t].aadharNoFilePath!=""&&n[t].aadharNoFilePath!=null?($("#tbl_posts #add #viewAadharId").attr("href","/SelfAssessmentDamage/ViewPersonelInfoAadharFile/"+n[t].id),$("#tbl_posts #add #viewAadharId").show()):$("#tbl_posts #add #viewAadharId").hide(),n[t].panNoFilePath!=""&&n[t].panNoFilePath!=null?($("#tbl_posts #add #viewPanId").attr("href","/SelfAssessmentDamage/ViewPersonelInfoPanFile/"+n[t].id),$("#tbl_posts #add #viewPanId").show()):$("#tbl_posts #add #viewPanId").hide(),n[t].photographPath!=""&&n[t].photographPath!=null?($("#tbl_posts #add #viewPhotoId").attr("href","/SelfAssessmentDamage/ViewPersonelInfoPhotoFile/"+n[t].id),$("#tbl_posts #add #viewPhotoId").show()):$("#tbl_posts #add #viewPhotoId").hide(),n[t].signaturePath!=""&&n[t].signaturePath!=null?($("#tbl_posts #add #viewSignatureId").attr("href","/SelfAssessmentDamage/ViewPersonelInfoSignautreFile/"+n[t].id),$("#tbl_posts #add #viewSignatureId").show()):$("#tbl_posts #add #viewSignatureId").hide(),n[t].otherDocPath!=""&&n[t].otherDocPath!=null?($("#tbl_posts #add #viewOtherDocId").attr("href","/SelfAssessmentDamage/ViewOtherDocumentFile/"+n[t].id),$("#tbl_posts #add #viewOtherDocId").show()):$("#tbl_posts #add #viewOtherDocId").hide(),$("#tbl_posts #add #Gender").trigger("change"),t<n.length-1){var u=$("#tbl_posts #add #Gender").children("option:selected").val(),f=jQuery("#tbl_posts #add tr"),r=jQuery("#tbl_posts >tbody >tr").length,i=null,i=f.clone();i.attr("id","rec-"+r);i.find(".delete-record").attr("data-id",r);i.appendTo("#tbl_posts_body");$("#tbl_posts_body #rec-"+r+" #Gender").val(u);i.find(".sn").html(r);$("#tbl_posts #add .sn").text($("#tbl_posts >tbody >tr").length);$("#tbl_posts #add .add").remove();$("#tbl_posts #tbl_posts_body .floating-label-field").attr("readonly",!0);i.find(".add-record").hide();i.find(".delete-record").show()}});HttpGet(`/SelfAssessmentDamage/GetDetailsAllottetypetemp/?Id=${$("#Id").val()==null?"":$("#Id").val()}`,"json",function(n){for(var t=0;t<n.length;t++)if($("#tbl_DamageAssessee #addDamageAssessee #Name").val(n[t].name),$("#tbl_DamageAssessee #addDamageAssessee #FatherName").val(n[t].fatherName),$("#tbl_DamageAssessee #addDamageAssessee #Date").val(n[t].date),$("#tbl_DamageAssessee #addDamageAssessee #ATSGPAFilePath").val(n[t].atsgpadocumentPath),$("#tbl_DamageAssessee #addDamageAssessee #viewATSGPAId").text(n[t].atsgpadocumentPath.split("\\")[n[t].atsgpadocumentPath.split("\\").length-1].slice(37)),n[t].atsgpadocumentPath!=""&&n[t].atsgpadocumentPath!=null?($("#tbl_DamageAssessee #addDamageAssessee #viewATSGPAId").attr("href","/SelfAssessmentDamage/ViewATSGPAFile/"+n[t].id),$("#tbl_DamageAssessee #addDamageAssessee #viewATSGPAId").show()):$("#tbl_DamageAssessee #addDamageAssessee #viewATSGPAId").hide(),t<n.length-1){var u=jQuery("#tbl_DamageAssessee #addDamageAssessee tr"),r=jQuery("#tbl_DamageAssessee >tbody >tr").length,i=null,i=u.clone();i.attr("id","rec-"+r);i.find(".delete-record").attr("data-id",r);i.appendTo("#tbl_DamageAssessee_body");i.find(".sn").html(r);$("#tbl_DamageAssessee #addDamageAssessee .sn").text($("#tbl_DamageAssessee >tbody >tr").length);$("#tbl_DamageAssessee #addDamageAssessee .add").remove();$("#tbl_DamageAssessee #tbl_DamageAssessee_body .floating-label-field").attr("readonly",!0);i.find(".add-recordDamageAssessee").hide();i.find(".delete-recordDamageAssessee").show()}});HttpGet(`/SelfAssessmentDamage/GetDetailspaymenthistorytemp/?Id=${$("#Id").val()==null?"":$("#Id").val()}`,"json",function(n){for(var t=0;t<n.length;t++)if($("#tbl_Payment #addPayment #txtPaymentName").val(n[t].name),$("#tbl_Payment #addPayment #txtRecieptNo").val(n[t].recieptNo),$("#tbl_Payment #addPayment #txtPaymentMode").val(n[t].paymentMode),$("#tbl_Payment #addPayment #txtPaymentDate").val(n[t].paymentDate),$("#tbl_Payment #addPayment #txtAmount").val(n[t].amount),$("#tbl_Payment #addPayment #RecieptFilePath").val(n[t].recieptDocumentPath),$("#tbl_Payment #addPayment #viewRecieptId").text(n[t].recieptDocumentPath.split("\\")[n[t].recieptDocumentPath.split("\\").length-1].slice(37)),n[t].recieptDocumentPath!=""&&n[t].recieptDocumentPath!=null?($("#tbl_Payment #addPayment #viewRecieptId").attr("href","/SelfAssessmentDamage/ViewRecieptFile/"+n[t].id),$("#tbl_Payment #addPayment #viewRecieptId").show()):$("#tbl_Payment #addPayment #viewRecieptId").hide(),t<n.length-1){var u=jQuery("#tbl_Payment #addPayment tr"),r=jQuery("#tbl_Payment >tbody >tr").length,i=null,i=u.clone();i.attr("id","rec-"+r);i.find(".delete-record").attr("data-id",r);i.appendTo("#tbl_Payment_body");i.find(".sn").html(r);$("#tbl_Payment #addPayment .sn").text($("#tbl_Payment >tbody >tr").length);$("#tbl_Payment #addPayment .add").remove();$("#tbl_Payment #tbl_Payment_body .floating-label-field").attr("readonly",!0);i.find(".add-recordPayment").hide();i.find(".delete-recordPayment").show()}})}function fileValidation(n,t,i){return/(\.jpg|\.jpeg|\.png|\.pdf)$/i.exec(n)?i>10535049?(alert("File must be of 10 MB or Lesser Than 10 MB"),t.value="",!1):void 0:(alert("Invalid file type"),t.value="",!1)}function ValidateFileSize(n,t){var i;try{if(i=0,navigator.userAgent.match(/msie/i)){var r=new ActiveXObject("Scripting.FileSystemObject"),u=t[0].value,f=r.getFile(u),i=f.size;i=i/1048576}else i=t[0].files[0].size,i=i/1048576;return i}catch(e){alert("Error is :"+e)}}$(document).ready(function(){$("#Gender").removeAttr("multiple")});$(document).ready(function(){$("#Rebate").attr("readonly","readonly");$("#TotalPayable").attr("readonly","readonly");$("#ResidentialSqYard").attr("readonly","readonly");$("#CommercialSqYard").attr("readonly","readonly");$("#ResidentialSqMt").attr("readonly","readonly");$("#CommercialSqMt").attr("readonly","readonly");var n=$("input[type='radio'][name='grpYESNO']:checked");$("#IsDdadamagePayee").val(n.val());$("#rdbPayeeYes").is(":checked")?$("#DivForPayeeNo").hide():$("#DivForPayeeNo").show();$(".TotalCalculation").keyup(function(){var i=$("#TotalValueWithInterest").val(),n=$("#InterestDueAmountCompund").val(),r=$("#Rebate").val(),t=$("#RebatePercentage").val();i==""?$("input[name='TotalPayable']").val(""):n==""?$("input[name='TotalPayable']").val(""):($("input[name='Rebate']").val(parseInt(t==""?0:n*t/100)),$("input[name='TotalPayable']").val(parseFloat(parseInt(i)+parseInt(n)-parseInt(t==""?0:n*t/100))))});$("#Id").val()!=0&&FillRepeatorAtEdit();$("#rdbResidential").is(":checked")?($("#ResidentialSqYard").removeAttr("readonly","readonly"),$("#CommercialSqYard").attr("readonly","readonly"),$("#UseOfProperty").val("Residential")):$("#rdbCommercial").is(":checked")?($("#ResidentialSqYard").attr("readonly","readonly"),$("#CommercialSqYard").removeAttr("readonly","readonly"),$("#UseOfProperty").val("Commercial")):$("#rdbMixed").is(":checked")?($("#ResidentialSqYard").removeAttr("readonly","readonly"),$("#CommercialSqYard").removeAttr("readonly","readonly"),$("#UseOfProperty").val("Mixed")):($("#ResidentialSqYard").attr("readonly","readonly"),$("#CommercialSqYard").attr("readonly","readonly"));$("#rbdYesLitigation").is(":checked")?($("#DivForLitigationStatus").show(),$("#LitigationStatus").val("Under litigation")):($("#DivForLitigationStatus").hide(),$("#LitigationStatus").val("no case"));$("#rSubsequent").is(":checked")?($("#DivForSubsequentPurchaser").show(),$("#TypeOfDamageAssessee").val("Subsequent")):($("#DivForSubsequentPurchaser").hide(),$("#TypeOfDamageAssessee").val("Original"));$("#HouseBill").is(":checked")?$("#IsDocumentFor").val("HouseTax Bill"):$("#ElectricityBill").is(":checked")?$("#IsDocumentFor").val("Electricity Bill"):$("#WaterBill").is(":checked")?$("#IsDocumentFor").val("Water Bill"):$("#Other").is(":checked")&&$("#IsDocumentFor").val("Any Other")});$("input[name='DeclarationStatus1']").click(function(){$("#DeclarationStatus1").is(":checked")?$("#Declaration1").val(1):$("#Declaration1").val(0)});$("input[name='DeclarationStatus2']").click(function(){$("#DeclarationStatus2").is(":checked")?$("#Declaration2").val(1):$("#Declaration2").val(0)});$("input[name='DeclarationStatus3']").click(function(){$("#DeclarationStatus3").is(":checked")?$("#Declaration3").val(1):$("#Declaration3").val(0)});$("input[name='grpDamageAssesseeType']").click(function(){$("#rSubsequent").is(":checked")?$("#DivForSubsequentPurchaser").show():$("#DivForSubsequentPurchaser").hide()});$("input[name='grpLitigation']").click(function(){$("#rbdYesLitigation").is(":checked")?$("#DivForLitigationStatus").show():$("#DivForLitigationStatus").hide()});$("input[name='grpYESNO']").click(function(){var n=$("input[type='radio'][name='grpYESNO']:checked");$("#IsDdadamagePayee").val(n.val());$("#rdbPayeeYes").is(":checked")?$("#DivForPayeeNo").hide():$("#DivForPayeeNo").show()});$("input[name='grpUseofpeoperty']").click(function(){$("#rdbResidential").is(":checked")?($("#ResidentialSqYard").removeAttr("readonly","readonly"),$("#CommercialSqYard").attr("readonly","readonly"),$("#CommercialSqMt").val(""),$("#CommercialSqYard").val(""),$("#UseOfProperty").val("Residential")):$("#rdbCommercial").is(":checked")?($("#ResidentialSqYard").attr("readonly","readonly"),$("#CommercialSqYard").removeAttr("readonly","readonly"),$("#ResidentialSqMt").val(""),$("#ResidentialSqYard").val(""),$("#UseOfProperty").val("Commercial")):$("#rdbMixed").is(":checked")?($("#ResidentialSqYard").removeAttr("readonly","readonly"),$("#CommercialSqYard").removeAttr("readonly","readonly"),$("#ResidentialSqMt").val(""),$("#ResidentialSqYard").val(""),$("#CommercialSqMt").val(""),$("#CommercialSqYard").val(""),$("#UseOfProperty").val("Mixed")):($("#ResidentialSqYard").attr("readonly","readonly"),$("#CommercialSqYard").attr("readonly","readonly"),$("#ResidentialSqMt").val(""),$("#ResidentialSqYard").val(""),$("#CommercialSqMt").val(""),$("#CommercialSqYard").val(""))});$("#txtPlotyds").change(function(){var t=$("#txtPlotyds").val(),n="";n=t/1.19599005;$("#txtPlotmts").val(n.toFixed(3))});$("#txtFlooryds").change(function(){var t=$("#txtFlooryds").val(),n="";n=t/1.19599005;$("#txtFloormts").val(n.toFixed(3))});$("#ResidentialSqYard").change(function(){var t=$("#ResidentialSqYard").val(),n="";n=t/1.19599005;$("#ResidentialSqMt").val(n.toFixed(3))});$("#CommercialSqYard").change(function(){var t=$("#CommercialSqYard").val(),n="";n=t/1.19599005;$("#CommercialSqMt").val(n.toFixed(3))});$("input[name='grpDamageAssesseeType']").click(function(){var n=$("input[type='radio'][name='grpDamageAssesseeType']:checked");$("#TypeOfDamageAssessee").val(n.val())});$("input[name='grpUseofpeoperty']").click(function(){var n=$("input[type='radio'][name='grpUseofpeoperty']:checked");$("#UseOfProperty").val(n.val())});$("input[name='grpLitigation']").click(function(){var n=$("input[type='radio'][name='grpLitigation']:checked");$("#LitigationStatus").val(n.val())});$("input[name='grpCaseperson']").click(function(){var n=$("input[type='radio'][name='grpCaseperson']:checked");$("#PetitionerRespondent").val(n.val())});$("input[name='Bill']").click(function(){var n=$("input[type='radio'][name='Bill']:checked");$("#IsDocumentFor").val(n.val())});$(document).delegate("a.add-record","click",function(n){var r;if($("#tbl_posts #add #Gender").children("option:selected").val()!=""&&$("#tbl_posts #add #payeeName").val()!=""&&$("#tbl_posts #add #payeeFatherName").val()!=""&&$("#tbl_posts #add #MobileNo").val()!=""&&$("#tbl_posts #add #EmailId").val()!=""){r=$("#tbl_posts #add #Gender").children("option:selected").val();n.preventDefault();var u=jQuery("#tbl_posts #add tr"),i=jQuery("#tbl_posts >tbody >tr").length,t=null,t=u.clone();t.attr("id","rec-"+i);t.find(".delete-record").attr("data-id",i);t.appendTo("#tbl_posts_body");$("#tbl_posts_body #rec-"+i+" #Gender").val(r);t.find(".sn").html(i);$("#tbl_posts #add .sn").text($("#tbl_posts >tbody >tr").length);$("#tbl_posts #add .add").remove();$("#tbl_posts #tbl_posts_body .floating-label-field").attr("readonly",!0);t.find(".add-record").hide();t.find(".delete-record").show();$("#tbl_posts #add .floating-label-field").val("")}else alert("Please fill record before add new record ")});$(document).delegate("a.delete-record","click",function(n){var t,i,r;return n.preventDefault(),t=confirm("Are you sure You want to delete"),t==!0?(i=jQuery(this).attr("data-id"),r=jQuery(this).attr("targetDiv"),jQuery("#rec-"+i).remove(),$("#tbl_posts_body tr").each(function(n){$(this).find("span.sn").html(n+1)}),$("#tbl_posts #add .sn").text($("#tbl_posts >tbody >tr").length),!0):!1});$(document).delegate("a.add-recordDamageAssessee","click",function(n){if($("#tbl_DamageAssessee #addDamageAssessee #Name").val()!=""&&$("#tbl_DamageAssessee #addDamageAssessee #FatherName").val()!=""&&$("#tbl_DamageAssessee #addDamageAssessee #Date").val()!=""&&$("#tbl_DamageAssessee #addDamageAssessee #ATSGPA").val()!=""){n.preventDefault();var r=jQuery("#tbl_DamageAssessee #addDamageAssessee tr"),i=jQuery("#tbl_DamageAssessee >tbody >tr").length,t=null,t=r.clone();t.attr("id","rec-"+i);t.find(".delete-recordDamageAssessee").attr("data-id",i);t.appendTo("#tbl_DamageAssessee_body");t.find(".sn1").html(i);$("#tbl_DamageAssessee #addDamageAssessee .sn1").text($("#tbl_DamageAssessee >tbody >tr").length);$("#tbl_DamageAssessee #addDamageAssessee .add").remove();$("#tbl_DamageAssessee #tbl_DamageAssessee_body .floating-label-field").attr("readonly",!0);t.find(".add-recordDamageAssessee").hide();t.find(".delete-recordDamageAssessee").show();$("#tbl_DamageAssessee #addDamageAssessee .floating-label-field").val("")}else alert("Please fill record before add new record ")});$(document).delegate("a.delete-recordDamageAssessee","click",function(n){var t,i,r;return n.preventDefault(),t=confirm("Are you sure You want to delete"),t==!0?(i=jQuery(this).attr("data-id"),r=jQuery(this).attr("targetDiv"),jQuery("#rec-"+i).remove(),$("#tbl_DamageAssessee_body tr").each(function(n){$(this).find("span.sn1").html(n+1)}),$("#tbl_DamageAssessee #addDamageAssessee .sn1").text($("#tbl_DamageAssessee >tbody >tr").length),!0):!1});$(document).delegate("a.add-recordPayment","click",function(n){if($("#tbl_Payment #addPayment #txtPersonalName").val()!=""&&$("#tbl_Payment #addPayment #txtPersonalFatherName").val()!=""&&$("#tbl_Payment #addPayment #txtPersonalMobileNo").val()!=""&&$("#tbl_Payment #addPayment #txtPersonalEmailid").val()!=""&&$("#tbl_Payment #addPayment #Reciept").val()!=""){n.preventDefault();var r=jQuery("#tbl_Payment #addPayment tr"),i=jQuery("#tbl_Payment >tbody >tr").length,t=null,t=r.clone();t.attr("id","rec-"+i);t.find(".delete-recordPayment").attr("data-id",i);t.appendTo("#tbl_Payment_body");t.find(".sn2").html(i);$("#tbl_Payment #addPayment .sn2").text($("#tbl_Payment >tbody >tr").length);$("#tbl_Payment #addPayment .add").remove();$("#tbl_Payment #tbl_Payment_body .floating-label-field").attr("readonly",!0);t.find(".add-recordPayment ").hide();t.find(".delete-recordPayment").show();$("#tbl_Payment #addPayment .floating-label-field").val("")}else alert("Please fill record before add new record ")});$(document).delegate("a.delete-recordPayment","click",function(n){var t,i,r;return n.preventDefault(),t=confirm("Are you sure You want to delete"),t==!0?(i=jQuery(this).attr("data-id"),r=jQuery(this).attr("targetDiv"),jQuery("#rec-"+i).remove(),$("#tbl_Payment_body tr").each(function(n){$(this).find("span.sn2").html(n+1)}),$("#tbl_Payment #addPayment .sn2").text($("#tbl_Payment >tbody >tr").length),!0):!1});$("#btnGenerate").click(function(){var n=GetSearchParam(currentPageNumber,currentPageSize);HttpPost(`/SelfAssessmentDamage/Print`,"html",n,function(n){$("#LoadData").html("");$("#LoadData").html(n)})});$("#DocumentIFormFile").change(function(){var n=document.getElementById("DocumentIFormFile"),t=n.value;const i=DocumentIFormFile.files[0].size;fileValidation(t,n,i)});$(".checkExtension").on("change",function(){var r,u,f,e,i;var n=!1,o=$(this).val(),t=o;if(t!=null){if(r=t.split("."),r.length>2){alert("Please upload proper file with single dot in filename");$(this).val("");return}u=t.substr(t.lastIndexOf(".")+1);switch(u){case"pdf":n=!0;$("#error").empty();break;case"PDF":n=!0;$("#error").empty();break;default:alert("You can upload only pdf extension file Only");$(this).val("");n=!1}if(n==!0)if(f=$(this).attr("id"),e=ValidateFileSize(f,$(this)),e>5)alert("You Can Upload file Size Up to 5 MB."),$(this).val("");else{filecontrol=$(this);i=new FormData;i.append("file",$(this)[0].files[0]);$.ajax({"async":!1,type:"POST",url:"../SelfAssessmentDamage/CheckFile",contentType:!1,processData:!1,data:i,success:function(t){n(t,filecontrol)},failure:function(){return!1}});function n(n,t){if(n==!1)alert("Please select vaild pdf file."),t.val("");else return!0}}}});